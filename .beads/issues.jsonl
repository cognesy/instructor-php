{"id":"instructor-php-1fg","title":"Add integration tests with actual claude CLI","description":"Need integration tests that actually invoke claude CLI with test prompts to verify argument passing, permission modes, and response parsing work correctly. Should use test fixtures and mock responses where possible.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T03:27:31.29881398+01:00","updated_at":"2025-12-02T03:40:44.159646785+01:00","closed_at":"2025-12-02T03:40:44.159650161+01:00"}
{"id":"instructor-php-3y5","title":"Code review summary: ClaudeCodeCli implementation assessment","description":"PEER REVIEW SUMMARY: The team delivered excellent foundational work with proper DDD architecture, sandboxed execution, and comprehensive CLI argument building. Key strengths: mirrors Beads patterns, typed value objects, configurable drivers. Gaps: missing tests, response parsing, resume modes, validation. Overall: solid architecture ready for completion.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-02T03:27:45.672816983+01:00","updated_at":"2025-12-02T03:39:27.976846445+01:00","closed_at":"2025-12-02T03:39:27.97684951+01:00"}
{"id":"instructor-php-4fr","title":"Add comprehensive tests for Bedrock driver","description":"Create tests for Bedrock driver including API key auth, region endpoints, and compatibility with OpenAI patterns","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T22:58:17.259045014+01:00","updated_at":"2025-11-28T23:26:05.312498471+01:00","closed_at":"2025-11-28T23:26:05.312498471+01:00","dependencies":[{"issue_id":"instructor-php-4fr","depends_on_id":"instructor-php-9sa","type":"blocks","created_at":"2025-11-28T22:58:26.756841919+01:00","created_by":"daemon"},{"issue_id":"instructor-php-4fr","depends_on_id":"instructor-php-lh5","type":"parent-child","created_at":"2025-11-28T22:58:33.453722651+01:00","created_by":"daemon"}]}
{"id":"instructor-php-5fz","title":"Research existing driver implementations and architecture","description":"Examine existing drivers to understand patterns, interfaces, and common implementations","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T22:55:21.007607019+01:00","updated_at":"2025-11-28T22:57:57.150755856+01:00","closed_at":"2025-11-28T22:57:57.150755856+01:00","dependencies":[{"issue_id":"instructor-php-5fz","depends_on_id":"instructor-php-lh5","type":"parent-child","created_at":"2025-11-28T22:55:24.11204174+01:00","created_by":"daemon"}]}
{"id":"instructor-php-5ot","title":"Create PHPStan documentation files","description":"Create PHPSTAN_QUICK_REF.md and PHPSTAN_SETUP.md files and move them to docs-internal/development/ directory. Consolidate PHPStan information from existing docs.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T14:48:29.217253231+01:00","updated_at":"2025-12-02T03:40:56.703241257+01:00","closed_at":"2025-12-02T03:40:56.703243802+01:00"}
{"id":"instructor-php-5sw","title":"Add region-aware endpoint configuration","description":"Implement logic to build region-specific Bedrock endpoints and handle model ID validation for Bedrock","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T23:14:59.906243585+01:00","updated_at":"2025-11-28T23:23:12.096355278+01:00","closed_at":"2025-11-28T23:23:12.096355278+01:00","dependencies":[{"issue_id":"instructor-php-5sw","depends_on_id":"instructor-php-lh5","type":"parent-child","created_at":"2025-11-28T23:15:06.709759361+01:00","created_by":"daemon"}]}
{"id":"instructor-php-5vi","title":"Analyze Claude Code hooks for execution control","description":"Review hooks-reference to understand lifecycle events, matcher patterns, decision outputs, environment handling, and how to gate/modify tool usage for controlled CLI automation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T03:14:43.697285886+01:00","updated_at":"2025-12-02T03:18:08.831864483+01:00","closed_at":"2025-12-02T03:18:08.831867268+01:00"}
{"id":"instructor-php-6pf","title":"Clean up duplicate CLAUDE.md in .taskmaster/","description":"Remove or symlink the duplicate CLAUDE.md file in .taskmaster/ directory to avoid maintenance overhead.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-11-28T12:26:27.320373256+01:00","updated_at":"2025-11-28T12:41:16.772435233+01:00","closed_at":"2025-11-28T12:41:16.772435233+01:00"}
{"id":"instructor-php-7cr","title":"Audit and update documentation references","description":"Scan all documentation files for references to moved files and update paths. Check CLAUDE.md, AGENTS.md, CONTRIBUTOR_GUIDE.md, and docs-internal/README.md.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T12:26:23.552483857+01:00","updated_at":"2025-11-28T12:40:59.28781579+01:00","closed_at":"2025-11-28T12:40:59.28781579+01:00","dependencies":[{"issue_id":"instructor-php-7cr","depends_on_id":"instructor-php-jnb","type":"blocks","created_at":"2025-11-28T12:26:40.418982566+01:00","created_by":"daemon"},{"issue_id":"instructor-php-7cr","depends_on_id":"instructor-php-bn3","type":"blocks","created_at":"2025-11-28T12:26:43.252260006+01:00","created_by":"daemon"},{"issue_id":"instructor-php-7cr","depends_on_id":"instructor-php-xsh","type":"blocks","created_at":"2025-11-28T12:26:45.717213567+01:00","created_by":"daemon"}]}
{"id":"instructor-php-9hh","title":"Implement BedrockBodyFormat for request formatting","description":"Create body formatter that handles anthropic_version field and Bedrock-specific request format differences","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T22:58:08.296977706+01:00","updated_at":"2025-11-28T23:02:01.224165511+01:00","closed_at":"2025-11-28T23:02:01.224165511+01:00","dependencies":[{"issue_id":"instructor-php-9hh","depends_on_id":"instructor-php-lh5","type":"parent-child","created_at":"2025-11-28T22:58:33.307913049+01:00","created_by":"daemon"}]}
{"id":"instructor-php-9sa","title":"Implement BedrockDriver extending OpenAICompatibleDriver","description":"Create dedicated Bedrock driver that extends OpenAI compatibility with Bedrock-specific features like region endpoints, guardrails, and API key authentication","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T22:58:14.10449701+01:00","updated_at":"2025-11-28T23:23:19.622439+01:00","closed_at":"2025-11-28T23:23:19.622439+01:00","dependencies":[{"issue_id":"instructor-php-9sa","depends_on_id":"instructor-php-hzv","type":"blocks","created_at":"2025-11-28T22:58:24.082237238+01:00","created_by":"daemon"},{"issue_id":"instructor-php-9sa","depends_on_id":"instructor-php-9hh","type":"blocks","created_at":"2025-11-28T22:58:24.14243328+01:00","created_by":"daemon"},{"issue_id":"instructor-php-9sa","depends_on_id":"instructor-php-d8h","type":"blocks","created_at":"2025-11-28T22:58:24.205930645+01:00","created_by":"daemon"},{"issue_id":"instructor-php-9sa","depends_on_id":"instructor-php-lh5","type":"parent-child","created_at":"2025-11-28T22:58:33.405902411+01:00","created_by":"daemon"},{"issue_id":"instructor-php-9sa","depends_on_id":"instructor-php-ish","type":"blocks","created_at":"2025-11-28T23:15:09.668831077+01:00","created_by":"daemon"},{"issue_id":"instructor-php-9sa","depends_on_id":"instructor-php-5sw","type":"blocks","created_at":"2025-11-28T23:15:09.690170662+01:00","created_by":"daemon"}]}
{"id":"instructor-php-9xz","title":"Fix ClaudeRequest constructor parameter type issues","description":"ClaudeRequest.php:21 has 'private PathList $additionalDirs = null' but PathList can't be null. Should be 'private ?PathList $additionalDirs = null' or use PathList::none() as default. Also missing validation for required fields like prompt.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-02T03:27:14.079466279+01:00","updated_at":"2025-12-02T03:38:10.29625378+01:00","closed_at":"2025-12-02T03:38:10.296258469+01:00","dependencies":[{"issue_id":"instructor-php-9xz","depends_on_id":"instructor-php-3y5","type":"blocks","created_at":"2025-12-02T03:27:50.002075904+01:00","created_by":"daemon"}]}
{"id":"instructor-php-ao3","title":"Catalog Claude CLI commands and flags","description":"Extract CLI command set, non-interactive options, permission-mode flags, IO formats, and agent/system-prompt customization capabilities from CLI reference to inform controlled execution design.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T03:14:30.970943622+01:00","updated_at":"2025-12-02T03:17:56.560064377+01:00","closed_at":"2025-12-02T03:17:56.560067232+01:00"}
{"id":"instructor-php-bn3","title":"Move TEST_MATRIX.md to docs-internal/testing/","description":"Move TEST_MATRIX.md from root to docs-internal/testing/TEST_MATRIX.md and update any references in other documentation files.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T12:26:16.601850114+01:00","updated_at":"2025-11-28T12:39:52.16898705+01:00","closed_at":"2025-11-28T12:39:52.16898705+01:00","dependencies":[{"issue_id":"instructor-php-bn3","depends_on_id":"instructor-php-ypb","type":"parent-child","created_at":"2025-11-28T12:26:35.08349776+01:00","created_by":"daemon"}]}
{"id":"instructor-php-cen","title":"Synthesize Claude Code CLI research","description":"Summarize findings from Claude Code docs into ./research/2025-12-claude-code-cli/, mapping capabilities, control points, and integration considerations similar to Beads mechanism.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-02T03:14:57.153860837+01:00","updated_at":"2025-12-02T03:18:34.245438512+01:00","closed_at":"2025-12-02T03:18:34.245440966+01:00","dependencies":[{"issue_id":"instructor-php-cen","depends_on_id":"instructor-php-yed","type":"blocks","created_at":"2025-12-02T03:15:27.604188983+01:00","created_by":"ddebowczyk"},{"issue_id":"instructor-php-cen","depends_on_id":"instructor-php-ao3","type":"blocks","created_at":"2025-12-02T03:15:40.341968118+01:00","created_by":"ddebowczyk"},{"issue_id":"instructor-php-cen","depends_on_id":"instructor-php-5vi","type":"blocks","created_at":"2025-12-02T03:15:53.035606464+01:00","created_by":"ddebowczyk"}],"comments":[{"id":1,"issue_id":"instructor-php-cen","author":"ddebowczyk","text":"# Raw Specification (Original)\n\nRead Claude Code CLI command reference:\n  docs-internal/claude-code/getting-started/overview.md\n  docs-internal/claude-code/getting-started/quickstart.md\n  docs-internal/claude-code/getting-started/common-workflows.md\n  docs-internal/claude-code/reference/cli-reference.md\n  docs-internal/claude-code/reference/hooks-reference.md\n\nWe want to use an approach similar to:\n  ./packages/auxiliary/src/Beads\nto build a mechanism to execute Claude Code CLI commands in a controlled way via dev friently PHP API.\n\nFirst create a set of tasks to study Claude Code docs, command line options and program control capabilities.\n\nOur intended workflows are executing Claude Code (claude) with tracking stdout to complete various tasks via LLM\npower agent.\n\nYour target code location will be:\n  ./packages/auxiliary/src/ClaudeCodeCli\n\nOur goal now is to understand the `claude` tool, its capabilities, constraints and how we can integrate with it.\n\nResults of this study should be stored under ./research/2025-12-claude-code-cli/\n\nUse `bd` to create tasks, specs, dependencies and track progress, close completed tasks.","created_at":"2025-12-02T02:16:12Z"}]}
{"id":"instructor-php-d8h","title":"Test existing OpenAICompatibleDriver with Bedrock endpoint","description":"Validate if existing OpenAI driver can work with Bedrock's OpenAI-compatible API endpoint by testing with a Bedrock API key","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T22:58:11.115198496+01:00","updated_at":"2025-11-28T23:23:16.098211143+01:00","closed_at":"2025-11-28T23:23:16.098211143+01:00","dependencies":[{"issue_id":"instructor-php-d8h","depends_on_id":"instructor-php-lh5","type":"parent-child","created_at":"2025-11-28T22:58:33.357210227+01:00","created_by":"daemon"}]}
{"id":"instructor-php-det","title":"Test issue: Verify bd/bv setup","description":"This is a test issue to verify that bd/bv is properly set up for instructor-php project","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T11:50:02.993015494+01:00","updated_at":"2025-11-28T11:54:37.916089393+01:00","closed_at":"2025-11-28T11:54:37.916089393+01:00"}
{"id":"instructor-php-hzv","title":"Research Bedrock OpenAI-compatible API approach","description":"Investigate using Bedrock's /chat/completions endpoint with either AWS credentials or Bedrock API keys for simpler implementation","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T22:58:05.318866595+01:00","updated_at":"2025-11-28T23:14:44.395854042+01:00","closed_at":"2025-11-28T23:14:44.395854042+01:00","dependencies":[{"issue_id":"instructor-php-hzv","depends_on_id":"instructor-php-ibf","type":"blocks","created_at":"2025-11-28T22:58:21.214644961+01:00","created_by":"daemon"},{"issue_id":"instructor-php-hzv","depends_on_id":"instructor-php-lh5","type":"parent-child","created_at":"2025-11-28T22:58:33.254654272+01:00","created_by":"daemon"}]}
{"id":"instructor-php-ibf","title":"Design AWS authentication strategy for Bedrock driver","description":"Decide between AWS SDK dependency vs manual SigV4 implementation. Evaluate trade-offs and define authentication approach.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T22:58:01.596095869+01:00","updated_at":"2025-11-28T23:01:17.985439691+01:00","closed_at":"2025-11-28T23:01:17.985439691+01:00","dependencies":[{"issue_id":"instructor-php-ibf","depends_on_id":"instructor-php-lh5","type":"parent-child","created_at":"2025-11-28T22:58:33.201240022+01:00","created_by":"daemon"}]}
{"id":"instructor-php-ish","title":"Add Bedrock API key authentication support","description":"Implement Bedrock API key authentication with fallback to AWS credentials, supporting both short-term and long-term API keys","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T23:14:56.39911732+01:00","updated_at":"2025-11-28T23:21:59.807137177+01:00","closed_at":"2025-11-28T23:21:59.807137177+01:00","dependencies":[{"issue_id":"instructor-php-ish","depends_on_id":"instructor-php-lh5","type":"parent-child","created_at":"2025-11-28T23:15:06.686896356+01:00","created_by":"daemon"}]}
{"id":"instructor-php-jnb","title":"Move SCRIPTS.md to docs-internal/development/","description":"Move SCRIPTS.md from root to docs-internal/development/SCRIPTS.md and update any references in other documentation files.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T12:26:13.99004399+01:00","updated_at":"2025-11-28T12:39:41.668877883+01:00","closed_at":"2025-11-28T12:39:41.668877883+01:00","dependencies":[{"issue_id":"instructor-php-jnb","depends_on_id":"instructor-php-ypb","type":"parent-child","created_at":"2025-11-28T12:26:31.48816617+01:00","created_by":"daemon"}]}
{"id":"instructor-php-lfe","title":"Implement JSON/stream-json response parsing","description":"Missing response parsing DTOs for --output-format json and stream-json. Need ClaudeResponse DTO with parsed messages, cost/duration metadata, and streaming event handling as documented in design notes.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-02T03:27:18.847459059+01:00","updated_at":"2025-12-02T03:37:57.781333309+01:00","closed_at":"2025-12-02T03:37:57.781336074+01:00","dependencies":[{"issue_id":"instructor-php-lfe","depends_on_id":"instructor-php-3y5","type":"blocks","created_at":"2025-12-02T03:27:50.127782843+01:00","created_by":"daemon"}]}
{"id":"instructor-php-lh5","title":"Research and implement Amazon Bedrock integration","description":"Add Bedrock driver to packages/polyglot/src/Inference/Drivers with proper authentication, request/response mapping, and streaming support","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-28T22:55:17.766241608+01:00","updated_at":"2025-11-28T23:26:09.632410554+01:00","closed_at":"2025-11-28T23:26:09.632410554+01:00"}
{"id":"instructor-php-pw8","title":"Improve ClaudeCommandBuilder error handling","description":"ClaudeCommandBuilder methods should validate inputs (empty strings, invalid paths) and throw meaningful exceptions. Current implementation silently handles some edge cases that should be explicit failures.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-02T03:27:39.495998037+01:00","updated_at":"2025-12-02T03:39:01.986915073+01:00","closed_at":"2025-12-02T03:39:01.98691867+01:00"}
{"id":"instructor-php-q6c","title":"Add resume/continue command building support","description":"ClaudeCommandBuilder only supports headless mode. Need buildResume() and buildContinue() methods as outlined in design notes, plus support for --permission-prompt-tool and structured stdin streaming.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-02T03:27:24.680957721+01:00","updated_at":"2025-12-02T03:38:35.845955503+01:00","closed_at":"2025-12-02T03:38:35.845958088+01:00"}
{"id":"instructor-php-rg8","title":"Add comprehensive tests for ClaudeCodeCli package","description":"The implementation lacks tests. Need unit tests for: CommandBuilder argv generation, ExecutionPolicy defaults, SandboxCommandExecutor retry logic, Argv/PathList value objects, and integration tests with mock claude responses.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T03:27:08.489801008+01:00","updated_at":"2025-12-02T03:38:22.901097807+01:00","closed_at":"2025-12-02T03:38:22.901100422+01:00","dependencies":[{"issue_id":"instructor-php-rg8","depends_on_id":"instructor-php-3y5","type":"blocks","created_at":"2025-12-02T03:27:49.875554741+01:00","created_by":"daemon"}]}
{"id":"instructor-php-xsh","title":"Move REFACTORING_PLAN.md to tmp/","description":"Move REFACTORING_PLAN.md from root to tmp/REFACTORING_PLAN.md since it's active WIP documentation, not permanent internal docs.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T12:26:19.820866135+01:00","updated_at":"2025-11-28T12:40:02.058807122+01:00","closed_at":"2025-11-28T12:40:02.058807122+01:00","dependencies":[{"issue_id":"instructor-php-xsh","depends_on_id":"instructor-php-ypb","type":"parent-child","created_at":"2025-11-28T12:26:37.799098689+01:00","created_by":"daemon"}]}
{"id":"instructor-php-yed","title":"Study Claude Code getting-started docs","description":"Read overview, quickstart, and common-workflows docs to extract capabilities, interactive patterns, permission modes, and automation-relevant behaviors for Claude Code CLI.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T03:14:17.966396022+01:00","updated_at":"2025-12-02T03:17:42.500581869+01:00","closed_at":"2025-12-02T03:17:42.500586939+01:00"}
{"id":"instructor-php-ypb","title":"Internal documentation cleanup and reorganization","description":"Clean up internal documentation files in monorepo root by moving developer-specific docs to docs-internal/ and updating all references. Maintain public docs in root for discoverability.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-28T12:26:10.120601048+01:00","updated_at":"2025-11-28T12:41:21.868298999+01:00","closed_at":"2025-11-28T12:41:21.868298999+01:00"}
{"id":"instructor-php-zew","title":"Improve ClaudeCodeCli usage documentation and examples","description":"README.md needs more complete usage examples, error handling patterns, and guidance on when to use different permission modes. Add examples for resume/continue when implemented.","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-02T03:27:31.451509918+01:00","updated_at":"2025-12-02T03:39:14.572853151+01:00","closed_at":"2025-12-02T03:39:14.572856246+01:00"}
{"id":"instructor-php-zjx","title":"Add validation for Claude CLI flag combinations","description":"Missing validation in ClaudeCommandBuilder for invalid combinations like --system-prompt + --system-prompt-file, or dangerous flags validation. Should prevent conflicting options and validate file paths.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-02T03:27:24.823384769+01:00","updated_at":"2025-12-02T03:38:49.521010711+01:00","closed_at":"2025-12-02T03:38:49.521014658+01:00"}
